# ๐จ ุฑุงูููุง ููุง ุญู ูุดฺฉู Medicines

## ๐ ูุดฺฉูุงุช ุดูุงุณุง ุดุฏู

ุงุฒ ุชุตุงูุฑ ูุดุฎุต ุงุณุช ฺฉู ุฏู ูุดฺฉู ุงุตู ูุฌูุฏ ุฏุงุฑุฏ:

1. **ุฌุฏูู `medicines` ูุฌูุฏ ูุฏุงุฑุฏ** - ุฎุทุง `relation "public.medicines" does not exist`
2. **ูุดฺฉู ูุฑูุช ุชุงุฑุฎ ุฎุงู** - ุฎุทุง `invalid input syntax for type date: ""`

## โ ุฑุงูโุญู ฺฉุงูู

### ูุฑุญูู 1: ุงุฌุฑุง SQL ฺฉุงูู ุฏุฑ Supabase

**โ๏ธ ููู**: ูุงู `complete-database-setup.sql` ุฑุง ุงุฌุฑุง ฺฉูุฏุ ูู `database-setup.sql`

1. ุจู [Supabase Dashboard](https://supabase.com/dashboard) ุจุฑูุฏ
2. ูพุฑูฺู ุฎูุฏ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
3. ุจู **SQL Editor** ุจุฑูุฏ
4. ูุงู `complete-database-setup.sql` ุฑุง ฺฉูพ ฺฉูุฏ
5. ุฏุฑ SQL Editor paste ฺฉูุฏ
6. ุฑู **Run** ฺฉูฺฉ ฺฉูุฏ

### ูุฑุญูู 2: ุจุฑุฑุณ ููููุช

ูพุณ ุงุฒ ุงุฌุฑุง SQLุ ุจุงุฏ ูพุงู ุฒุฑ ุฑุง ุจุจูุฏ:
```
MediTrack database setup completed successfully!
```

### ูุฑุญูู 3: ุชุณุช ุนููฺฉุฑุฏ

1. ุงูพูฺฉุดู ุฑุง ุงุฌุฑุง ฺฉูุฏ: `npm run dev`
2. ุจู ุตูุญู `/medicines` ุจุฑูุฏ
3. ุฑู "ุงูุฒูุฏู ุฏุงุฑู ุฌุฏุฏ" ฺฉูฺฉ ฺฉูุฏ
4. ูุฑู ุฑุง ูพุฑ ฺฉูุฏ
5. **ุชุงุฑุฎ ุงููุถุง ุฑุง ุฎุงู ุจฺฏุฐุงุฑุฏ** (ูุดฺฉู ุญู ุดุฏู)
6. ุฏุงุฑู ุฑุง ุฐุฎุฑู ฺฉูุฏ

## ๐ง ุชุบุฑุงุช ุงูุฌุงู ุดุฏู

### 1. **ุชุตุญุญ ูุงู ุฌุฏูู**
```typescript
// ูุจู
.from('medications')

// ุจุนุฏ  
.from('medicines')
```

### 2. **ุญู ูุดฺฉู ุชุงุฑุฎ ุฎุงู**
```typescript
// ุฏุฑ medicineService.ts
const cleanedData = {
  ...medicineData,
  expiration_date: medicineData.expiration_date && medicineData.expiration_date.trim() !== '' 
    ? medicineData.expiration_date 
    : null
}
```

### 3. **ุงุฌุงุฏ ุชูุงู ุฌุฏุงูู ููุฑุฏ ูุงุฒ**
- `medicines` - ุฌุฏูู ุงุตู ุฏุงุฑููุง
- `patients` - ุจูุงุฑุงู
- `organizations` - ุณุงุฒูุงูโูุง
- ู 15 ุฌุฏูู ุฏฺฏุฑ...

## ๐ก๏ธ ุงููุช ู ุนููฺฉุฑุฏ

### Row Level Security (RLS)
ุชูุงู ุฌุฏุงูู ุฏุงุฑุง RLS ูุณุชูุฏ:
- ฺฉุงุฑุจุฑุงู ููุท ุฏุงุฏูโูุง ุฎูุฏ ุฑุง ูโุจููุฏ
- ุฏุณุชุฑุณ ูุญุฏูุฏ ุจู ุณุงุฒูุงูโูุง ู ุฎุงููุงุฏูโูุง

### Indexes
ุจุฑุง ุจูุจูุฏ ุนููฺฉุฑุฏ:
- `idx_medicines_patient_id`
- `idx_medicines_expiration_date`
- `idx_medicines_created_by`

## ๐ ูุฑุงุญู ุชุณุช

### ุชุณุช 1: ุงูุฒูุฏู ุฏุงุฑู ุจุฏูู ุชุงุฑุฎ ุงููุถุง
1. ูุฑู ุฑุง ุจุงุฒ ฺฉูุฏ
2. ููุฏูุง ุงุฌุจุงุฑ ุฑุง ูพุฑ ฺฉูุฏ
3. ุชุงุฑุฎ ุงููุถุง ุฑุง ุฎุงู ุจฺฏุฐุงุฑุฏ
4. ุฐุฎุฑู ฺฉูุฏ โ

### ุชุณุช 2: ุงูุฒูุฏู ุฏุงุฑู ุจุง ุชุงุฑุฎ ุงููุถุง
1. ูุฑู ุฑุง ุจุงุฒ ฺฉูุฏ
2. ููู ููุฏูุง ุฑุง ูพุฑ ฺฉูุฏ
3. ุชุงุฑุฎ ุงููุถุง ุฑุง ูุงุฑุฏ ฺฉูุฏ
4. ุฐุฎุฑู ฺฉูุฏ โ

### ุชุณุช 3: ูุดุงูุฏู ุฏุงุฑููุง
1. ุจู ุตูุญู ุฏุงุฑููุง ุจุฑูุฏ
2. ุฏุงุฑููุง ุงุถุงูู ุดุฏู ุฑุง ุจุจูุฏ โ

## ๐ ุฏุฑ ุตูุฑุช ูุดฺฉู

### ุงฺฏุฑ ูููุฒ ุฎุทุง ุฌุฏูู ูโุฏูุฏ:
1. **SQL ุฑุง ุฏูุจุงุฑู ุงุฌุฑุง ฺฉูุฏ**
2. **Supabase ุฑุง refresh ฺฉูุฏ**
3. **ุตูุญู ุฑุง reload ฺฉูุฏ**

### ุงฺฏุฑ ุฎุทุง ุชุงุฑุฎ ูโุฏูุฏ:
1. **ฺฉุฏ ุจูโุฑูุฒุฑุณุงู ุดุฏู ุงุณุช**
2. **ุชุงุฑุฎ ุฎุงู ุฑุง null ุงุฑุณุงู ูโฺฉูุฏ**
3. **ูุดฺฉู ุญู ุดุฏู**

### ุงฺฏุฑ ุฎุทุง ุฏฺฏุฑ ูโุฏูุฏ:
1. **Console ุฑุง ุจุฑุฑุณ ฺฉูุฏ**
2. **ุฎุทุง ุฏูู ุฑุง ฺฏุฒุงุฑุด ุฏูุฏ**
3. **ูุงูโูุง log ุฑุง ุจุฑุฑุณ ฺฉูุฏ**

## ๐ฏ ูุชุฌู ููุง

ูพุณ ุงุฒ ุงุฌุฑุง ุงู ูุฑุงุญู:
- โ ุฌุฏูู `medicines` ุงุฌุงุฏ ูโุดูุฏ
- โ ููุฏ ุชุงุฑุฎ ุงููุถุง ุฏุฑุณุช ฺฉุงุฑ ูโฺฉูุฏ
- โ ูุฑู ุงูุฒูุฏู ุฏุงุฑู ุจุฏูู ุฎุทุง ฺฉุงุฑ ูโฺฉูุฏ
- โ ุชูุงู ุนููุงุช CRUD ุฏุงุฑููุง ฺฉุงุฑ ูโฺฉูุฏ

---

**ูฺฉุชู ููู**: ูุงู `complete-database-setup.sql` ุดุงูู ุชูุงู ุฌุฏุงูู ููุฑุฏ ูุงุฒ ุงุณุช ู ูุดฺฉู ุฑุง ุจู ุทูุฑ ฺฉุงูู ุญู ูโฺฉูุฏ. 