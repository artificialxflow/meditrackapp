# MediTrack - لیست کارها و مشخصات پروژه

## پروژه: MediTrack
یک اپلیکیشن مدیریت دارو و سلامتی به زبان فارسی با قابلیت اشتراک‌گذاری

## مشخصات کلی پروژه
- **نام**: MediTrack (دارویار)
- **زبان**: فارسی
- **جهت**: راست‌چین (RTL)
- **فریم‌ورک**: Next.js 14
- **UI Framework**: Bootstrap 5 (RTL)
- **پایگاه داده**: Supabase (PostgreSQL)
- **احراز هویت**: Supabase Auth
- **نوع پروژه**: PWA (Progressive Web App)

## رنگ‌بندی پروژه
### رنگ‌های اصلی
- **رنگ اصلی**: `#007bff` (آبی)
- **رنگ ثانویه**: `#6c757d` (خاکستری)
- **رنگ موفقیت**: `#28a745` (سبز)
- **رنگ هشدار**: `#ffc107` (زرد)
- **رنگ خطر**: `#dc3545` (قرمز)
- **رنگ اطلاعات**: `#17a2b8` (آبی روشن)
- **رنگ تیره**: `#343a40` (خاکستری تیره)
- **رنگ روشن**: `#f8f9fa` (خاکستری روشن)

### رنگ‌های داروها
- **مسکن**: `#dc3545` (قرمز)
- **قلبی**: `#dc3545` (قرمز)
- **دیابت**: `#fd7e14` (نارنجی)
- **فشار خون**: `#6f42c1` (بنفش)
- **آنتی بیوتیک**: `#20c997` (سبز روشن)
- **ویتامین**: `#ffc107` (زرد)
- **گوارشی**: `#28a745` (سبز)
- **اعصاب**: `#17a2b8` (آبی روشن)
- **تنفسی**: `#6c757d` (خاکستری)

## ویژگی‌های اصلی اپلیکیشن

### 1. مدیریت کاربران و احراز هویت
- [x] ثبت‌نام و ورود با ایمیل/رمز عبور
- [ ] ورود با Google
- [ ] ورود با GitHub
- [ ] فراموشی رمز عبور
- [ ] پروفایل کاربر
- [ ] تنظیمات اعلان‌ها

### 2. سیستم اشتراک‌گذاری (جدید)
- [ ] ایجاد خانواده
- [ ] دعوت اعضای خانواده
- [ ] اشتراک‌گذاری پروفایل بیمار
- [ ] مدیریت نقش‌ها و مجوزها
- [ ] QR Code اشتراک‌گذاری
- [ ] لینک دعوت
- [ ] چت خانوادگی
- [ ] اعلان‌های اشتراک‌گذاری

### 3. مدیریت بیماران
- [ ] افزودن بیمار جدید
- [ ] اطلاعات کامل پزشکی
- [ ] آپلود تصویر پروفایل
- [ ] اطلاعات اضطراری
- [ ] سوابق پزشکی
- [ ] آلرژی‌ها و شرایط پزشکی

### 4. مدیریت داروها
- [ ] افزودن داروی جدید
- [ ] دسته‌بندی داروها
- [ ] اطلاعات کامل دارو
- [ ] آپلود تصویر دارو
- [ ] نصف کردن و یک چهارم کردن قرص‌ها
- [ ] مدیریت موجودی
- [ ] هشدار انقضا

### 5. زمان‌بندی و یادآوری
- [ ] تنظیم زمان‌های مصرف
- [ ] یادآوری خودکار
- [ ] Push Notifications
- [ ] تقویم داروها
- [ ] یادآوری ویزیت پزشک
- [ ] قابلیت به تعویق انداختن

### 6. پیگیری مصرف
- [ ] ثبت مصرف دارو
- [ ] چک‌لیست روزانه
- [ ] تاریخچه کامل
- [ ] آمار مصرف
- [ ] گزارش عدم مصرف

### 7. مدیریت قرار ملاقات
- [ ] ثبت قرار ملاقات
- [ ] یادآوری قرار ملاقات
- [ ] تقویم ویزیت‌ها
- [ ] اطلاعات پزشک و کلینیک

### 8. سوابق سلامتی
- [ ] ثبت علائم حیاتی
- [ ] نمودارهای پیشرفت
- [ ] آپلود اسناد پزشکی
- [ ] یادداشت‌های پزشکی

### 9. گزارش‌گیری و تحلیل
- [ ] داشبورد کلی
- [ ] نمودارهای تحلیلی
- [ ] گزارش‌های دوره‌ای
- [ ] Export به PDF/Excel
- [ ] گزارش به پزشک

### 10. ویژگی‌های پیشرفته
- [ ] جستجوی پیشرفته
- [ ] فیلترهای چندگانه
- [ ] مرتب‌سازی هوشمند
- [ ] حالت آفلاین
- [ ] پشتیبان‌گیری
- [ ] همگام‌سازی

## ساختار دیتابیس

### جداول اصلی
1. **profiles** - پروفایل کاربران
2. **patients** - اطلاعات بیماران
3. **families** - خانواده‌ها
4. **family_members** - اعضای خانواده
5. **patient_shares** - اشتراک‌گذاری بیماران
6. **sharing_invitations** - دعوت‌نامه‌ها
7. **sharing_notifications** - اعلان‌ها
8. **family_chat** - چت خانوادگی

### جداول پزشکی
9. **medications** - داروها
10. **medication_schedules** - زمان‌بندی داروها
11. **medication_intake** - پیگیری مصرف
12. **appointments** - قرار ملاقات‌ها
13. **vitals** - علائم حیاتی
14. **documents** - اسناد پزشکی
15. **notes** - یادداشت‌ها
16. **categories** - دسته‌بندی‌ها

### جداول پشتیبانی
17. **insurance_providers** - بیمه‌ها
18. **emergency_contacts** - تماس‌های اضطراری
19. **allergies** - آلرژی‌ها
20. **medical_conditions** - شرایط پزشکی

## فونت‌های پیشنهادی
- **فونت اصلی**: Vazir یا IRANSans
- **فونت انگلیسی**: Inter یا Roboto
- **فونت کد**: JetBrains Mono

## آیکون‌ها
- Bootstrap Icons
- Font Awesome
- آیکون‌های پزشکی و سلامتی
- آیکون‌های اشتراک‌گذاری

## Favicon
- **طراحی**: ترکیب آیکون دارو + قلب
- **رنگ**: #007bff (رنگ اصلی پروژه)
- **فرمت**: SVG و PNG (32x32, 16x16)
- **محل قرارگیری**: `/public/favicon.ico`

## مراحل آماده‌سازی پروژه Next.js

### ✅ مرحله 1: راه‌اندازی پروژه
- [x] ایجاد پروژه Next.js 14 با TypeScript
- [x] نصب Bootstrap 5 و RTL
- [x] تنظیم Supabase
- [x] نصب پکیج‌های مورد نیاز
- [x] تنظیم ESLint و Prettier

### ✅ مرحله 2: احراز هویت
- [x] پیاده‌سازی Supabase Auth
- [x] صفحات ورود و ثبت‌نام
- [x] مدیریت session
- [x] محافظت از route ها

### ⏳ مرحله 3: دیتابیس و اشتراک‌گذاری
- [ ] طراحی کامل دیتابیس
- [ ] پیاده‌سازی سیستم اشتراک‌گذاری
- [ ] مدیریت خانواده‌ها
- [ ] سیستم دعوت و QR Code

### ⏳ مرحله 4: مدیریت بیماران
- [ ] فرم افزودن بیمار
- [ ] پروفایل بیمار
- [ ] اشتراک‌گذاری بیمار
- [ ] مدیریت دسترسی‌ها

### ⏳ مرحله 5: مدیریت داروها
- [ ] فرم افزودن دارو
- [ ] زمان‌بندی داروها
- [ ] پیگیری مصرف
- [ ] یادآوری‌ها

### ⏳ مرحله 6: ویژگی‌های پیشرفته
- [ ] گزارش‌گیری
- [ ] داشبورد
- [ ] PWA
- [ ] تست و بهینه‌سازی

## وابستگی‌های پروژه

### Core Dependencies
```json
{
  "next": "^14.0.0",
  "react": "^18.0.0",
  "react-dom": "^18.0.0",
  "typescript": "^5.0.0"
}
```

### UI & Styling
```json
{
  "bootstrap": "^5.3.0",
  "bootstrap-rtl": "^5.3.0",
  "react-bootstrap": "^2.8.0",
  "react-icons": "^4.11.0"
}
```

### Backend & Database
```json
{
  "@supabase/supabase-js": "^2.38.0",
  "@supabase/auth-helpers-nextjs": "^0.8.0"
}
```

### Forms & Validation
```json
{
  "react-hook-form": "^7.47.0",
  "zod": "^3.22.0",
  "@hookform/resolvers": "^3.3.0"
}
```

### Utilities
```json
{
  "date-fns": "^2.30.0",
  "clsx": "^2.0.0",
  "tailwind-merge": "^2.0.0"
}
```

## ساختار پوشه‌ها

```
meditrackapp/
├── app/                    # Next.js App Router
│   ├── (auth)/            # صفحات احراز هویت
│   ├── dashboard/         # داشبورد اصلی
│   ├── patients/          # مدیریت بیماران
│   ├── families/          # مدیریت خانواده‌ها
│   ├── medicines/         # مدیریت داروها
│   ├── appointments/      # قرار ملاقات‌ها
│   ├── reports/           # گزارش‌ها
│   ├── settings/          # تنظیمات
│   ├── layout.tsx         # Layout اصلی
│   └── page.tsx           # صفحه اصلی
├── components/            # کامپوننت‌های React
│   ├── ui/               # کامپوننت‌های پایه
│   ├── forms/            # فرم‌ها
│   ├── layout/           # کامپوننت‌های layout
│   ├── sharing/          # کامپوننت‌های اشتراک‌گذاری
│   └── medical/          # کامپوننت‌های پزشکی
├── lib/                  # کتابخانه‌ها و utilities
│   ├── supabase/         # تنظیمات Supabase
│   ├── utils/            # توابع کمکی
│   └── validations/      # validation schemas
├── types/                # TypeScript types
├── hooks/                # Custom hooks
├── services/             # API services
├── public/               # فایل‌های استاتیک
└── styles/               # فایل‌های CSS
```

## نکات مهم

1. **امنیت**: تمام جداول دارای Row Level Security (RLS) هستند
2. **عملکرد**: Index های مناسب برای بهبود سرعت کوئری‌ها
3. **مقیاس‌پذیری**: ساختار برای انواع مختلف سازمان‌ها طراحی شده
4. **انعطاف‌پذیری**: امکان اضافه کردن ویژگی‌های جدید
5. **اشتراک‌گذاری**: سیستم کامل اشتراک‌گذاری با QR Code و لینک
6. **PWA**: قابلیت نصب روی موبایل
7. **آفلاین**: کارکرد در حالت آفلاین 